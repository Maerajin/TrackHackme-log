## TryHackMe: Networking Concepts


## 실습 일시
 - 2025-10-22 ~ 2022-10-27


## 실습 주제
(1) Introduction
 - 인터넷을 사용하는 우리는 한번쯤 이런 의문을 가질 수 있다. '왜 인터넷에 연결할 때 IP주소가 필요한 것인가?', '정말 IP주소가 사용자를 특정할 수 있는 것인가?'
 - 이번 실습에서 배울 내용들은 다음과 같다.
   1) ISO OSI network model
   2) IP Address, subnets, and routing
   3) TCP, UDP, and port numbers
   4) How to connect to an open TCP port from the command line
      
(2) OSI Model
 - OSI(Open Systems Interconnection) 모델은 국제표준화기구(ISO, International Organization for Standardization)에서 개발한 개념적인 모델이다.
 - 이 모델은 컴퓨터 네트워크에서 일어나는 다양한 의사소통들이 어떻게 일어나는지 묘사한다. 다른 말로, 컴퓨터 네트워크 커뮤니케이션을 프레임워크로 정의하는 것이다.
 - OSI 모델은 다음과 같은 7개의 계층으로 이루어져 있다.
   1) Physical Layer
   2) Data Link Layer
   3) Network Layer
   4) Transport Layer
   5) Session Layer
   6) Presentation Layer
   7) Application Layer
 - Physical Layer : 이더넷 케이블과 같은 중간 기기 간의 물리적인 연결을 다룬다.
 - Data Link Layer : 같은 네트워크 세그먼트에 있는 노드 사이에서의 데이터 전송을 다룬다.
 - Network Layer : 다른 네트워크 간의 통신을 다룬다. 좀더 기술적으로 말하자면, 논리적 어드레싱이나 라우팅을 다룬다. 사용하는 프로토콜로는 IP(Internet Protocol), ICMP(Internet Control Mesage Protocol), IPsec이나 SSL/TLS VPN과 같은 VPN(Virtual Private Network) 프로토콜 등이 있다.
 - Transport Layer : 서로 다른 호스트를 가진 응용프로그램들의 종단간 통신을 다룬다. 우리가 다른 사이트에 접속할 때 쓰는 통신이다. 그 밖에 흐름제어, 세그멘테이션, 오류교정 들의 역할을 수행한다. 대표 프로토콜로는 TCP(Transmission Control Protocol), UDP(User Datagram Protocol) 등이 있다.
 - Session Layer : 서로 다른 호스트를 가진 응용프로그램들의 통신을 연결하고 유지하고 동기화하는 역할을 한다. '세션을 확립하다'라는 말은 응용프로그램들 간 통신을 시작하고 필수적인 파라미터 값을 조정한다는 의미이다.
 - Presentation Layer : 하위 통신을 응용프로그램들이 이해할 수 있게 변환하는 역할을 한다. 데이터 인코딩, 압축, 암호화를 다룬다.
 - Application Layer : 네트워크 서비스를 직접적으로 사용자가 사용하는 응용프로그램에 공급하는 역할을 한다. 그렇기에 이 계층에 프로토콜들은 우리에게 친숙한 HTTP, FTP, DNS, POP3, SMTP, IMAP 등이 있다.
        
(3) TCP/IP Model
 - TCP/IP 모델이란, Transmission Control Protocol/Internet Protocol model의 약어로 1970년대에 DoD(Department of Defense)에 의해 개발되었다.
 - 이 모델의 장점은 군사적 공격과 같은 방해를 받을 때도 네트워크 기능을 지속하도록 돕는 것에 있다.
 - 이 모델의 각 계층을 OSI 모델과 비교하자면 다음과 같다.
   1) Application Layer : OSI 7 Layer - Application Layer + Presentation Layer + Session Layer
   2) Transport Layer : OSI 7 Layer - Transport Layer
   3) Internet Layer : OSI 7 Layer - Network Layer
   4) Link Layer : OSI 7 Layer - Data Link Layer
 - 어떤 책에서는 TCP/IP 모델을 Physical Layer을 포함해서 5개의 계층으로 묘사하지만 여기서는 4계층으로 묘사하겠다.
 
(4) IP Address and Subnets
 - 우리는 원활한 통신과 정확한 통신을 위해 개인을 특정할 수 있는 코드들이 필요하다. 이때 쓰이는 코드들이 우리가 잘 아는 IP 주소이다.
 - IP 주소의 구성은 다음 그림과 같다.
 - <img width="910" height="415" alt="스크린샷 2025-10-22 111546" src="https://github.com/user-attachments/assets/e02f9420-76bd-4bed-89f3-ef122fa4ec70" />
 - 자신의 IP주소는 터미널에 ipconfig 명령어를 사용하면 된다.
 - IP주소는 사설 IP주소와 공공 IP주소로 나눠지는데 사설 IP 주소의 범위는 다음과 같이 정해져 있다. 그 외에는 전부 공공 IP 주소이다.
   1) 10.0.0.0 ~ 10.255.255.255
   2) 172.16.0.0 ~ 172.31.255.255
   3) 192.168.0.0 ~ 192.168.255.255
 - 라우팅 : 라우터는 쿠팡 허브와 같다. 우리가 물품을 주문할 시 쿠팡 허브를 통해 건너건너 오듯 우리 통신 패킷들도 라우터들을 통해 건너건너 온다. 이러한 일련의 과정들을 라우팅이라 한다.

(5) UDP and TCP
 - UDP(User Datagram Protocol) : 간단한 비연결형 프로토콜로 전송 계층에서 동작한다. 비연결형이기에 연결이 필요 없고 그렇기에 내가 보낸 패킷이 잘 도착했는지 알 방법이 없다.
 - TCP(Transmission Control Protocol) : 연결 지향적인 전송 프로토콜이다. 데이터 전송 전에 연결을 수립할 필요가 있고 그에 맞게 안전한 데이터 전송을 보장한다. TCP 연결은 3-way handshake라는 다음의 과정을 거쳐 수립된다.
   1) SYN Packet : 클라이언트가 서버에게 SYN(Synchronise)패킷을 보냄으로써 연결을 시도한다. 이 패킷은 클라이언트가 정한 시작 시퀸스 번호를 가진다.
   2) SYN-ACK Packet : 서버는 SYN패킷에 대한 응답으로 클라이언트에게 SYN-ACK 패킷을 보낸다. 이 패킷에는 시퀸스 번호 뒤에 서버가 정한 무작위 번호가 추가된다.
   3) ACK Packet : 클라이언트는 SYN-ACK Packet의 회답으로 서버에게 ACK(Acknowledge)패킷을 보내고 3-way handshake과정이 끝났음을 알린다.
   cf) <img width="1336" height="678" alt="스크린샷 2025-10-22 115008" src="https://github.com/user-attachments/assets/947529a9-d035-4346-9376-490fdd12a0f5" />

(6) Encapsulation
 - 이번 장에서는 다른 주요 컨셉인 캡슐화(Encapsulation)에 대해서 배울 것이다. 이 개념은 간단히 말하자면 데이터가 층을 지나가면서 점점 정보들을 가진 헤더가 붙는 것이다.
 - 캡슐화는 크게 다음과 같은 네가지 과정을 거친다.
   1) Application data : 이 과정은 우리가 애플리케이션에 데이터를 보내는 모든 경우에 발생하며, 무슨 프로토콜이 사용되었는지와 같은 부가적인 정보를 첨부시킨다.
   2) Transport protocol segment or datagram : TCP, UDP 등이 있는 전송 계층에서는 정보를 담고 있는 헤더인 TCP segment, UDP datagram을 첨부시켜 네트워크 계층으로 보낸다.
   3) Network packet : 이 계층에서는 받은 TCP segment 혹은 UDP datagram에 IP헤더를 붙여서 데이터 링크 계층으로 보낸다.
   4) Data link frame : 이더넷과 와이파이가 IP패킷을 받고 적절한 헤더와 트레일러를 첨부시켜 프레임을 만든다.
 - <img width="790" height="189" alt="스크린샷 2025-10-22 112000" src="https://github.com/user-attachments/assets/a473a6f2-7839-4d66-b492-a1fa8dc7b6db" />

(7) Telnet
 - telnet(Teletype Network)은 원격 터미널 연결을 하는 네트워크 프로토콜이다.
 - 이번 실습 시에 목표로 할 서버는 다음 세가지이다.
   1) Echo server : 이 서버는 사용자가 보낸 모든 것을 널리 퍼뜨리게 한다. 7번 포트를 사용한다.
   2) Daytime server : 13번 포트를 기본적으로 사용하고 현재 날짜와 시간을 응답한다.
   3) Web(HTTP) server : 기본적으로 TCP 80번 포트를 사용하고 웹페이지를 제공한다.
 - telnet targetIPAddress PortNumber : telnet 접속 명령어 

(8) Conclusion
 - 이제까지 뭘 배웠는지에 대한 간단한 복습
   

## 사용 도구 및 명행령어   
 - ipconfig : 자신의 ip주소를 보여준다.
 - <img width="790" height="189" alt="스크린샷 2025-10-22 112000" src="https://github.com/user-attachments/assets/8939441a-62bd-41ae-8b66-db80b70c217b" />
 - telnet 10.201.94.181 7 : Echo server 에 접속한다.
 - telnet 10.201.94.181 13 : Daytime server에 접속한다. 서버는 시간을 보여주고 자동으로 접속을 종료시킨다.
 - telnet 10.201.94.181 80 : 해당 웹페이지로 접속한다.

## 배운 점
 - 대부분 학교에서 배웠거나 정보처리기사를 준비할 때 배웠던 내용이라 새롭게 배웠던 내용은 없었던 것 같다.
 - 나는 원래 Transport Layer의 단위가 세그먼트인 줄 알았는데 TCP, UDP에 따라 세그먼트, 데이터그램으로 명칭이 바뀌는 것인 줄 처음 알았다.

## 실무 적용 가능성
 - 정말 기본적인 내용이라 컴퓨터를 사용하면서 밥 벌어 먹으려면 기본적으로 알아야 하는 내용이라고 생각해서 이론적으로는 많이 스일 것 같지만 실습에서는 거의 쓰이지 않을 것 같다.
 - telnet 접속 문법이나 포트 번호를 외우는 정도는 실습에서 쓰일 것 같다. 하지만 telnet 접속이 필요한 경우에 대해서는 잘 모르겠다.


## 느낀 점
 - 이미 배웠던 내용들을 다시 배우니 복습한다는 느낌이 많이 들었다. 잊어버렸던 내용들도 다시 보니 많이 생각이 났고 내용 이해가 예전보다는 쉽게 되었다.
 - 기본적인 내용이어서 지금 이걸 하면 남보다 뒤처지는거 아닌가 생각도 들었지만 기본을 단단히 잡고 간다는 생각으로 마음을 바로 잡았다.
   
## 실습 화면 기록
![실습 결과](images/networking_Concepts.png)
