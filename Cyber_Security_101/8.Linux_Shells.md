## TryHackMe: Linux Shells


## 실습 일시
 - 2025-12-15


## 실습 주제
(1) Introduction to Linux Shells
 - 대부분의 사용자들은 그래픽 기반 인터페이스를 이용하여 필요한 작업들을 수행한다. 눈으로 보고 클릭을 하고 좌클릭이나 우클릭으로 옵션을 변경하면 대부분 작업이 끝나있기 때문이다.
 - 이러한 작업들은 GUI(그래픽 기반 인터페이스)로도 해결할 수 있지만 CLI(명령문 기반 인터페이스)로도 해결할 수 있다. 리눅스와 같은 운영체제의 조작에 한해서는 CLI가 더 효과적이다.
 - 이번 학습에서 배울 것들
   1) 리눅스쉘을 이용한 상호작용
   2) 기본적인 쉘 명령어 사용하기
   3) 사용 가능한 리눅스쉘 유형 탐색하기
   4) 간단한 쉘스크립트 짜보기

(2) How To Interact With a Shell?
 - pwd : 현재 작업 중인 디렉터리를 출력하는 명령어
 - cd name: name 디렉터리를 작업 디렉터리로 바꾸는 명령어
 - ls : 현재 속해 있는 디렉터리의 파일이나 폴더를 보여주는 명령어
 - cat : 파일의 내용을 읽을 수 있게 해주는 명령어 
        
(3) Types of Linux Shells
 - echo $SHELL : 현재 사용 중인 쉘이 무엇인지를 보여준다.
 - cat /etc/shells : /etc/shells 폴더에 설치되어있는 쉘의 목록을 보여준다.(cat : 해당 파일이나 폴더의 내용을 보여주는 리눅스 명령어)
 - history : 현재 세션에서 이전에 사용한 명령들을 볼 수 있는 명령어이다.4
 - chsh -s <Directory> : 쉘을 바꾸는 명령어
 - Bourne Again Shell(Bash) : 리눅스에서 가장 기본적이고 유용한 쉘
 - Friendly Interactive Shell(Fish) : 이름 그대로 사용자 친화적인 쉘이다.
 - Z Shell(Zsh) : 사전에 설치되어 있는 쉘은 아니지만 여러 쉘들의 기능이 결합되어있어 현대적이고 기능적인 쉘이다.   

(4) Shell Scripting and Components
 - 우리는 원활한 통신과 정확한 통신을 위해 개인을 특정할 수 있는 코드들이 필요하다. 이때 쓰이는 코드들이 우리가 잘 아는 IP 주소이다.
 - IP 주소의 구성은 다음 그림과 같다.
 - <img width="910" height="415" alt="스크린샷 2025-10-22 111546" src="https://github.com/user-attachments/assets/e02f9420-76bd-4bed-89f3-ef122fa4ec70" />
 - 자신의 IP주소는 터미널에 ipconfig 명령어를 사용하면 된다.
 - IP주소는 사설 IP주소와 공공 IP주소로 나눠지는데 사설 IP 주소의 범위는 다음과 같이 정해져 있다. 그 외에는 전부 공공 IP 주소이다.
   1) 10.0.0.0 ~ 10.255.255.255
   2) 172.16.0.0 ~ 172.31.255.255
   3) 192.168.0.0 ~ 192.168.255.255
 - 라우팅 : 라우터는 쿠팡 허브와 같다. 우리가 물품을 주문할 시 쿠팡 허브를 통해 건너건너 오듯 우리 통신 패킷들도 라우터들을 통해 건너건너 온다. 이러한 일련의 과정들을 라우팅이라 한다.

(5) The Locker Script
 - UDP(User Datagram Protocol) : 간단한 비연결형 프로토콜로 전송 계층에서 동작한다. 비연결형이기에 연결이 필요 없고 그렇기에 내가 보낸 패킷이 잘 도착했는지 알 방법이 없다.
 - TCP(Transmission Control Protocol) : 연결 지향적인 전송 프로토콜이다. 데이터 전송 전에 연결을 수립할 필요가 있고 그에 맞게 안전한 데이터 전송을 보장한다. TCP 연결은 3-way handshake라는 다음의 과정을 거쳐 수립된다.
   1) SYN Packet : 클라이언트가 서버에게 SYN(Synchronise)패킷을 보냄으로써 연결을 시도한다. 이 패킷은 클라이언트가 정한 시작 시퀸스 번호를 가진다.
   2) SYN-ACK Packet : 서버는 SYN패킷에 대한 응답으로 클라이언트에게 SYN-ACK 패킷을 보낸다. 이 패킷에는 시퀸스 번호 뒤에 서버가 정한 무작위 번호가 추가된다.
   3) ACK Packet : 클라이언트는 SYN-ACK Packet의 회답으로 서버에게 ACK(Acknowledge)패킷을 보내고 3-way handshake과정이 끝났음을 알린다.
   cf) <img width="1336" height="678" alt="스크린샷 2025-10-22 115008" src="https://github.com/user-attachments/assets/947529a9-d035-4346-9376-490fdd12a0f5" />

(6) Practical Exercise
 - 이번 장에서는 다른 주요 컨셉인 캡슐화(Encapsulation)에 대해서 배울 것이다. 이 개념은 간단히 말하자면 데이터가 층을 지나가면서 점점 정보들을 가진 헤더가 붙는 것이다.
 - 캡슐화는 크게 다음과 같은 네가지 과정을 거친다.
   1) Application data : 이 과정은 우리가 애플리케이션에 데이터를 보내는 모든 경우에 발생하며, 무슨 프로토콜이 사용되었는지와 같은 부가적인 정보를 첨부시킨다.
   2) Transport protocol segment or datagram : TCP, UDP 등이 있는 전송 계층에서는 정보를 담고 있는 헤더인 TCP segment, UDP datagram을 첨부시켜 네트워크 계층으로 보낸다.
   3) Network packet : 이 계층에서는 받은 TCP segment 혹은 UDP datagram에 IP헤더를 붙여서 데이터 링크 계층으로 보낸다.
   4) Data link frame : 이더넷과 와이파이가 IP패킷을 받고 적절한 헤더와 트레일러를 첨부시켜 프레임을 만든다.
 - <img width="1416" height="588" alt="스크린샷 2025-10-27 105304" src="https://github.com/user-attachments/assets/e22ee653-2d9f-4503-8b35-7e5d8d4e4f09" />

(7) Conclusion
 - telnet(Teletype Network)은 원격 터미널 연결을 하는 네트워크 프로토콜이다.
 - 이번 실습 시에 목표로 할 서버는 다음 세가지이다.
   1) Echo server : 이 서버는 사용자가 보낸 모든 것을 널리 퍼뜨리게 한다. 7번 포트를 사용한다.
   2) Daytime server : 13번 포트를 기본적으로 사용하고 현재 날짜와 시간을 응답한다.
   3) Web(HTTP) server : 기본적으로 TCP 80번 포트를 사용하고 웹페이지를 제공한다.
 - telnet targetIPAddress PortNumber : telnet 접속 명령어 

(8) Conclusion
 - 이제까지 뭘 배웠는지에 대한 간단한 복습
   

## 사용 도구 및 명행령어   
 - ipconfig : 자신의 ip주소를 보여준다.
 - <img width="790" height="189" alt="스크린샷 2025-10-22 112000" src="https://github.com/user-attachments/assets/8939441a-62bd-41ae-8b66-db80b70c217b" />
 - telnet 10.201.94.181 7 : Echo server 에 접속한다.
 - telnet 10.201.94.181 13 : Daytime server에 접속한다. 서버는 시간을 보여주고 자동으로 접속을 종료시킨다.
 - telnet 10.201.94.181 80 : 해당 웹페이지로 접속한다.

   
## 배운 점
 - 대부분 학교에서 배웠거나 정보처리기사를 준비할 때 배웠던 내용이라 새롭게 배웠던 내용은 없었던 것 같다.
 - 나는 원래 Transport Layer의 단위가 세그먼트인 줄 알았는데 TCP, UDP에 따라 세그먼트, 데이터그램으로 명칭이 바뀌는 것인 줄 처음 알았다.


## 실무 적용 가능성
 - 이번 실습에서 다룬 TCP, UDP 그리고 포트 개념은 향후 시스템 보안 점검이나 네트워크 트래픽 분석 시 필수적인 기반 지식이다.
 - telnet은 보안 취약점 때문에 실무에서 직접 사용되진 않지만, 네트워크 트러블슈팅 시 포트 접근 테스트 용도로 여전히 유용하다.


## 느낀 점
 - 이미 배웠던 내용들을 다시 배우니 복습한다는 느낌이 많이 들었다. 잊어버렸던 내용들도 다시 보니 많이 생각이 났고 내용 이해가 예전보다는 쉽게 되었다.
 - 기본적인 내용이지만, 이 단계를 통해 상위 개념(패킷 분석, 포트 스캐닝)의 토대를 명확히 다질 수 있었다.
 - 앞으로 이 내용을 기반으로 실제 패킷 캡처, 포트 스캔, 방화벽 규칙 분석까지 실습을 확장할 생각이다.

   
## 실습 화면 기록
![실습 결과](images/Networking_Concepts.png)
