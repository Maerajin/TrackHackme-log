## TryHackMe: Network Essentials


## 실습 일시
 - 2025-12-23, 12-30, 2026-01-07


## 실습 주제
(1) Introduction
 - 이 장에서는 어떻게 기기들이 연결을 통해 데이터를 주고받는지 우리가 Ip라 불리는 것을 어떻게 어떤 형식으로 받는지에 대한 의문의 답을 알려줄 것이다.
 - 이번 장에서 배울 목표들
   1) Dynamic Host Configuration Protocol (DHCP)
   2) Address Resolution Protocol (ARP)
   3) Network Address Translation (NAT)
   4) Internet Control Message Protocol (ICMP)
      - Ping
      - Traceroute

(2) DHCP : Give me My Networing Settings
 - 우리가 카페에 가서 문서 작업을 한다고 생각해보라. 커피를 시키고 자리에 앉아 노트북을 펴는 순간 노트북은 자동적으로 카페 와이파이에 연결되어 인터넷을 가능하게 할 것이다. 네트워크에 접근하기 위해서는 다음과 같은 최소한의 설정이 있어야 한다.
   1) IP Address along with subnet mask
   2) Router (or Gateway)
   3) DNS server
 - 이렇게 자동적으로 연결되는 것은 와이파이가 해당 기기의 IP주소를 기억하고 재할당하기 때문인데 이 방식은 여러가지 장점이 있다.
   1) 접속할 때마다 일일이 수동으로 접속할 필요가 없다. 이러한 장점은 특히 모바일 기기에서 부각된다.
   2) IP 충돌이 일어나지 않게 한다.
 - IP 할당 역할을 하는 프로토콜이 DHCP(Dynamic Host Configuration Protocol)이다.
 - DHCP는 응용 계층의 프로토콜로, 서버는 UDP 67번 포트를 사용하고 사용자는 68번 포트를 사용한다. 스마트폰이나 노트북들은 기본적으로 DHCP를 사용하도록 설정되어있다.
 - DHCP는 네가지 단계를 따른다. : Discover, Offer, Request, Acknowledge (DORA)
   1) DHCP Discover : 사용자는 DHCPDISCOVER메시지를 브로드캐스트하여 어딘가에 있을 서버에 보낸다.
   2) DHCP Offer : 서버는 DHCPOFFER메시지를 베정할 IP주소와 함께 클라이언트에게 응답한다.
   3) DHCP Request : 클라이언트는 서버가 배정한 IP주소를 승낙한다고 알려주는 DHCPOFFER메시지를 응답한다.
   4) DHCP Acknowledge : 서버는 클라이언트에게 DHCPACK메시지를 보내서 승낙한 IP주소를 배정했다고 응답한다.
        
(3) ARP : Bridging Layer 3 Addressing to Layer 2 Addressing
 - 두 개의 호스트가 네트워크를 통해서 소통을 하려면 2계층은 데이터링크 계층을 통해 넘어오면서 IP패킷이 캡슐화되어야 한다.
 - 데이터 링크 계층은 이더넷 (IEEE 802.3)과 와이파이(IEEE 802.11)를 사용한다.
 - 이더넷과 와이파이를 사용할 때 MAC주소를 통해 사용자를 판별한다. 하지만 통신하는 때마다 MAC주소를 확인하지는 않는다.
 - 통신할 시 MAC주소가 필요하면서 매 통신마다 필요 없다는 것이 무슨 의미일까? 이 문제의 해답은 IP주소에 있다.
 - 시작하기 전에, 이더넷 프레임의 헤더는 다음과 같은 정보를 가진다.
   1) Destination MAC address
   2) Source MAC address
   3) Type (IPv4 in this case)
 - Address Resolutin Protocol(ARP)는 이더넷에 접속해있는 다른 기기의 MAC address를 찾을 수 있게 한다.
 - ARP의 통신 방식은 DHCP와 유사하다. DHCP를 생각해보면 쉽게 이해할 수 있다.
   1) 클라이언트가 어딘가에 있을 서버를 향해 A IPaddress에 대한 MAC address가 무엇인지 물어보는 ARP Request를 브로드캐스트한다.
   2) 서버는 클라이언트에게 답변이 담긴 ARP Reply를 보낸다.

(4) ICMP : Troubleshooting Networks
 - Internet Control Message Protocol(ICMP)는 주로 네트워크 진단이나 오류 보고 시에 사용한다. 다음 두 명령어는 ICMP에 의존적이고, 네트워크 트러블슈팅이나 네트워크 보안의 기초이다.
   1) ping : 이 명령어는 ICMP를 사용하여 목적지까지의 연결성을 테스트하고 round-trip time(RTT)를 측정한다. 바꿔 말하면, 대상이 살아있는지 대답은 할 수 있는지 알아볼 떄 사용한다. (ICMP Echo Request, ICMP Echo Reply)
   2) traceroute : 이 명령어는 리눅스나 유닉스 계열 운영체제에서는 traceroute, 윈도우 운영체제에서는 trace불린다. 호스트에서 목적지로 가는 길을 찾기 위해 ICMP를 사용한다.
 
(5) Routing
 - 인터넷에서 우리는 어떻게 네트워크끼리 데이터를 주고받는지 정확히 말하면 어떤 경로를 통하여 데이터를 주고받는지 알 필요가 있다.
 - 이러한 네트워크의 경로를 찾는 알고리즘은 여러가지가 있지만 여기서는 대표적인 몇개의 알고리즘만을 소개하겠다.
   1) OSPF(Open Shortest Path First) : 네트워크 토폴리지에 대한 정보를 주고받고 데이터 전송에 가장 효율적인 경로를 찾는 알고리즘이다. 매 시간마다 네트워크에 대한 정보 업데이트를 받고 그에 맞는 최적의 경로를 알려준다.
   2) EIGRP(Enhanced Interior Gateway Protocol) : 시스코 소유의 라우팅 프로토콜로 다른 라우팅 알고리즘들의 여러 면을 결합시켜 만든 알고리즘이다. 네트워크와 정보를 주고받으며 대역폭이나 딜레이 시간 같은 비용을 따지면서 제일 효율적인 경로를 추천한다.
   3) BGP(Border Gateway Protocol) : 인터넷에서 주로 사용되는 라우팅 프로토콜로 네트워크 사이에서 정보를 주고받게 하고 경로를 만들어준다. 다수의 네트워크를 경유하더라도 안전성을 확보해준다.
   4) RIP(Routing Information Protocol) : 소규모 네트워크에서 사용하는 간단한 라우팅 프로토콜로 정보를 주고받기 위해서 홉스라고 불리는 정보를 공유한다. 그리고 홉스의 숫자가 얼마인지에 따라 경로를 설정한다.

(6) NAT
 - IPv4는 약 40억개의 기기들에 IP주소를 부여할 수 있지만 현대화로 인해 사용하는 기기들의 수가 기하급수적으로 상승하기 시작하면서 IPv4주소 공간이 빠르게 고갈되고 있다.
 - 이러한 고갈 문제에 대한 하나의 해답이 NAT(Network Address Translation)이다.
 - NAT의 발상은 회사나 공공 기관 같은 집단에서 하나의 공공 IP가 여러 개의 사설 IP를 묶어주고 관리할 수 있다는 점에서 생겨났다.
 - 여러 개의 사설 IP들을 통합해서 인터넷과 연결하기에 라우터의 도움을 받는다. 자신이 가지고 있는 IP주소가 다를지라도 인터넷 관점에서 본 IP들의 주소는 같다.

(7) Closing Notes
 - 이제까지 뭘 배웠는지에 대한 간단한 복습


## 실무 적용 가능성
 - 오늘 베운 내용들(DHCP, NAT, ARP 등)은 이론적인 부분들이 많았다. 그래서 실무에서 직접적으로 사용할 일은 없을 것 같다. 생각해보자면 보고서를 작성하는 정도가 아닐까 생각해본다.
 - 내가 가고 싶은 진로인 보안관제(SOC)에서는 사용할 일이 없더라도 알아야 하는 내용이니 외우는 것이 좋다고 생각한다. 


## 느낀 점
 - 이론적인 부분이라 그런지 정보보안기사나 네트워크관리사를 준비할 때 많이 보고 그만큼 사전 지식이 있어 배우는데 크게 어렵지는 않았다.
 - 이러한 것들을 배우면서 학습을 하고 진도를 나가다 보니 공부하면서 재미있다는 감정이 들기 시작하였다.
 - 이렇게 학습을 진행하다보면 언젠가는 내가 바랐던 SOC취업을 할 수 있을 것만 같다.
    
## 실습 화면 기록
![실습 결과](images/Networking_Essentials.png)
